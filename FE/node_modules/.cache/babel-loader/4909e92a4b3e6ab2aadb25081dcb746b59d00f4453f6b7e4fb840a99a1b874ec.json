{"ast":null,"code":"var _jsxFileName = \"/Users/rarestapu/Downloads/proiectweb-main/FE/src/components/TeacherPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport '../css/main.css';\nimport '../css/request-page.css';\nimport { useAuth } from '../helpers/authContext';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TeacherPage() {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  useEffect(() => {\n    if (!user) {\n      return;\n    }\n\n    // TODO de validat ca field-urile de tip input sa fie completate + un comportament specific (sa se afiseze ceva, sa se coloreze cu rosu etc.)\n    const acceptedRequestList = document.getElementById('second-phase-accepted');\n    const requestList = document.getElementById('requests-list');\n    const finalRequestList = document.getElementById('final-requests-list');\n    requestList.innerHTML = \"\";\n    finalRequestList.innerHTML = \"\";\n    acceptedRequestList.innerHTML = \"\";\n    getTeacherRequests('finalizata').then(result => {\n      acceptedRequestList.innerHTML = \"\";\n      result.forEach(reqest => {\n        const liElement = document.createElement('li');\n        liElement.id = reqest.id;\n        const spanName = document.createElement('span');\n        spanName.innerHTML = reqest.student_name;\n        spanName.classList.add('student-list-span');\n        liElement.appendChild(spanName);\n        const spanTitle = document.createElement('span');\n        spanTitle.innerHTML = reqest.title;\n        spanTitle.classList.add('student-list-span');\n        liElement.appendChild(spanTitle);\n        let sessionDiv = document.getElementById('session-accepted' + reqest.session_id);\n        if (!sessionDiv) {\n          sessionDiv = document.createElement('div');\n          sessionDiv.id = 'session-accepted' + reqest.session_id;\n          sessionDiv.innerHTML += 'session-' + reqest.session_id;\n          acceptedRequestList.appendChild(sessionDiv);\n        }\n        sessionDiv.appendChild(liElement);\n      });\n    }).catch(error => {\n      console.error('Error fetching data:', error);\n    });\n    if (user.student_number === 0) {\n      const p1Element = document.createElement('p');\n      p1Element.innerHTML = \"Numărul maxim de locuri a fost atins.\";\n      const p2Element = document.createElement('p');\n      p2Element.innerHTML = \"Numărul maxim de locuri a fost atins.\";\n      requestList.appendChild(p1Element);\n      finalRequestList.appendChild(p2Element);\n      return;\n    }\n    getTeacherRequests('in asteptare').then(result => {\n      console.log('Data fetched successfully:', result);\n      let students = result;\n      console.log(students);\n      requestList.innerHTML = \"\";\n      students.forEach(student => {\n        const liElement = document.createElement('li');\n        liElement.id = student.id;\n        const spanName = document.createElement('span');\n        spanName.innerHTML = student.student_name;\n        spanName.classList.add('student-list-span');\n        liElement.appendChild(spanName);\n        const spanTitle = document.createElement('span');\n        spanTitle.innerHTML = student.title;\n        spanTitle.classList.add('student-list-span');\n        liElement.appendChild(spanTitle);\n        const acceptRequestBtn = document.createElement(\"button\");\n        acceptRequestBtn.innerHTML = 'Acceptă';\n        acceptRequestBtn.value = 'acceptata';\n        acceptRequestBtn.dataset.requestId = student.id;\n        acceptRequestBtn.classList.add('button-30');\n        const declineRequestBtn = document.createElement(\"button\");\n        declineRequestBtn.innerHTML = 'Respinge';\n        declineRequestBtn.value = 'respinsa';\n        declineRequestBtn.dataset.requestId = student.id;\n        declineRequestBtn.classList.add('button-30');\n        liElement.appendChild(acceptRequestBtn);\n        liElement.appendChild(declineRequestBtn);\n        acceptRequestBtn.addEventListener('click', acceptOrDeclineRequest);\n        declineRequestBtn.addEventListener('click', acceptOrDeclineRequest);\n        let sessionDiv = document.getElementById('session-' + student.session_id);\n        if (!sessionDiv) {\n          sessionDiv = document.createElement('div');\n          sessionDiv.id = 'session-' + student.session_id;\n          sessionDiv.innerHTML += 'session-' + student.session_id;\n          requestList.appendChild(sessionDiv);\n        }\n        sessionDiv.appendChild(liElement);\n      });\n    }).catch(error => {\n      console.error('Error fetching data:', error);\n    });\n    getTeacherRequests('fisier incarcat').then(result => {\n      console.log('Data fetched successfully:', result);\n      finalRequestList.innerHTML = \"\";\n      result.forEach(finalRequest => {\n        const liElement = document.createElement('li');\n        liElement.id = finalRequest.id;\n        const spanName = document.createElement('span');\n        spanName.innerHTML = finalRequest.student_name;\n        spanName.classList.add('student-list-span');\n        liElement.appendChild(spanName);\n        const spanTitle = document.createElement('span');\n        spanTitle.innerHTML = finalRequest.title;\n        spanTitle.classList.add('student-list-span');\n        liElement.appendChild(spanTitle);\n        const inputFile = document.createElement(\"input\");\n        inputFile.type = 'file';\n        liElement.appendChild(inputFile);\n        const uploadFileBtn = document.createElement(\"button\");\n        uploadFileBtn.innerHTML = \"Încarcă fișier\";\n        uploadFileBtn.classList.add('upload-file');\n        uploadFileBtn.classList.add('button-30');\n        liElement.appendChild(uploadFileBtn);\n        const rejectBtn = document.createElement(\"button\");\n        rejectBtn.innerHTML = \"Respinge\";\n        rejectBtn.classList.add('upload-file');\n        rejectBtn.classList.add('button-30');\n        liElement.appendChild(rejectBtn);\n        uploadFileBtn.addEventListener('click', () => {\n          if (inputFile.files.length > 0) {\n            // Access the selected file\n            const selectedFile = inputFile.files[0];\n\n            // Log or use the selected file\n            console.log('Selected File:', selectedFile);\n            handleUpload(selectedFile);\n            updateRequest('finalizata', finalRequest.id);\n            updateTeacher();\n            liElement.style.display = 'none';\n          } else {\n            console.warn('No file selected.');\n            toast.warning('Niciun fisier selectat');\n          }\n        });\n        rejectBtn.addEventListener('click', () => {\n          openRejectPopup();\n          document.getElementById('final-reject-btn').addEventListener('click', () => {\n            const rejectMessage = document.getElementById('reject-message').value;\n            updateRequest('respinsa', finalRequest.id, rejectMessage);\n            liElement.style.display = 'none';\n            closePopup();\n          });\n        });\n        let sessionDiv = document.getElementById('session-final' + finalRequest.session_id);\n        if (!sessionDiv) {\n          sessionDiv = document.createElement('div');\n          sessionDiv.id = 'session-final' + finalRequest.session_id;\n          sessionDiv.innerHTML += 'session-' + finalRequest.session_id;\n          finalRequestList.appendChild(sessionDiv);\n        }\n        sessionDiv.appendChild(liElement);\n      });\n    }).catch(error => {\n      console.error('Error fetching data:', error);\n    });\n  }, []);\n  function openPopup() {\n    document.getElementById('overlay').style.display = 'flex';\n    document.querySelector('#close-btn').addEventListener('click', closePopup);\n  }\n  function saveSession() {\n    addSession();\n    // document.getElementById('overlay-success').style.display = 'flex';\n    // document.querySelector('#close-success-popup-btn').addEventListener('click', closePopup);\n  }\n\n  function acceptOrDeclineRequest(e) {\n    const status = e.target.value;\n    const requestId = e.target.dataset.requestId;\n    updateRequest(status, requestId);\n    document.getElementById(requestId).style.display = 'none';\n  }\n  function closePopup() {\n    document.getElementById('overlay').style.display = 'none';\n    document.getElementById('overlay-success').style.display = 'none';\n    document.getElementById('overlay-reject').style.display = 'none';\n  }\n  const getTeacherRequests = async status => {\n    try {\n      const response = await fetch('http://localhost:5002/api/filterRequests?teacherId=' + user.id + '&status=' + status, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const result = await response.json();\n      return result;\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n  const addSession = async () => {\n    try {\n      if (!startDate || !endDate || startDate > endDate) {\n        toast.error('Date incorecte');\n        return;\n      }\n      const postData = {\n        teacher_id: user.id,\n        start_date: startDate,\n        end_date: endDate\n      };\n      console.log(postData);\n      const response = await fetch('http://localhost:5002/api/NewSession', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(postData)\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const result = await response.json();\n      console.log(result);\n      toast.success('Sesiune salvata');\n      return result;\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n  const updateRequest = async (status, requestId, rejectMessage = '') => {\n    try {\n      const postData = {\n        status: status,\n        reject_message: rejectMessage\n      };\n      console.log(postData);\n      const response = await fetch('http://localhost:5002/api/dissertation_requests/' + requestId, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(postData)\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const result = await response.json();\n      console.log(result);\n      return result;\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n  const handleUpload = async selectedFile => {\n    if (selectedFile) {\n      try {\n        const formData = new FormData();\n        formData.append('file', selectedFile);\n        const response = await fetch('http://localhost:5002/api/upload', {\n          method: 'POST',\n          body: formData\n        });\n        if (response.ok) {\n          console.log('File uploaded successfully!');\n          toast.success('Fiser incarcat');\n        } else {\n          console.error('Failed to upload file.');\n        }\n      } catch (error) {\n        console.error('Error uploading file:', error);\n      }\n    } else {\n      console.warn('No file selected for upload.');\n    }\n  };\n  const updateTeacher = async () => {\n    try {\n      const postData = {\n        student_number: user.student_number - 1\n      };\n      const response = await fetch('http://localhost:5002/api/users/' + user.id, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(postData)\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const result = await response.json();\n      console.log(result);\n      return result;\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n  function openRejectPopup() {\n    document.getElementById('overlay-reject').style.display = 'flex';\n    document.querySelector('#close-reject-popup-btn').addEventListener('click', closePopup);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"User not authenticated\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"add-session-btn\",\n        className: \"button-30\",\n        style: {\n          display: 'block'\n        },\n        onClick: openPopup,\n        children: \"Adaug\\u0103 sesiune\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"lista-prof\",\n        children: \"Lista de cereri\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"requests-list\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay\",\n        id: \"overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popup\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"close-btn\",\n            id: \"close-btn\",\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Sesiune nou\\u0103\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Introduce\\u021Bi data de \\xEEnceput \\u0219i cea de final.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Dat\\u0103 \\xEEnceput: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              id: \"start-date\",\n              value: startDate,\n              onChange: e => setStartDate(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Dat\\u0103 sf\\xE2r\\u0219it: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              id: \"end-date\",\n              value: endDate,\n              onChange: e => setEndDate(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button-30\",\n            id: \"add-session-btn\",\n            onClick: saveSession,\n            children: \"Salveaz\\u0103\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay\",\n        id: \"overlay-success\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popup\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"close-btn\",\n            id: \"close-success-popup-btn\",\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Sesiunea a fost salvat\\u0103 cu succes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Cereri acceptate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"final-requests-list\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Cereri finalizate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"second-phase-accepted\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overlay\",\n      id: \"overlay-reject\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"close-btn\",\n          id: \"close-reject-popup-btn\",\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Introduce\\u021Bi motivul respingerii\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          required: true,\n          id: \"reject-message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button-30\",\n            id: \"final-reject-btn\",\n            children: \"Respinge\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 7\n  }, this);\n}\n_s(TeacherPage, \"mTo1gd5+tU8bLP+4L4ejWjUx0RQ=\", false, function () {\n  return [useAuth];\n});\n_c = TeacherPage;\nexport default TeacherPage;\nvar _c;\n$RefreshReg$(_c, \"TeacherPage\");","map":{"version":3,"names":["React","useEffect","useState","useAuth","ToastContainer","toast","jsxDEV","_jsxDEV","TeacherPage","_s","user","startDate","setStartDate","endDate","setEndDate","acceptedRequestList","document","getElementById","requestList","finalRequestList","innerHTML","getTeacherRequests","then","result","forEach","reqest","liElement","createElement","id","spanName","student_name","classList","add","appendChild","spanTitle","title","sessionDiv","session_id","catch","error","console","student_number","p1Element","p2Element","log","students","student","acceptRequestBtn","value","dataset","requestId","declineRequestBtn","addEventListener","acceptOrDeclineRequest","finalRequest","inputFile","type","uploadFileBtn","rejectBtn","files","length","selectedFile","handleUpload","updateRequest","updateTeacher","style","display","warn","warning","openRejectPopup","rejectMessage","closePopup","openPopup","querySelector","saveSession","addSession","e","status","target","response","fetch","method","headers","ok","Error","json","postData","teacher_id","start_date","end_date","body","JSON","stringify","success","reject_message","formData","FormData","append","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","onChange","required","_c","$RefreshReg$"],"sources":["/Users/rarestapu/Downloads/proiectweb-main/FE/src/components/TeacherPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../css/main.css';\nimport '../css/request-page.css';\nimport { useAuth } from '../helpers/authContext';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction TeacherPage() {\n  const { user } = useAuth();\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n\n  useEffect(() => {\n    if (!user) {\n      return;\n    }\n\n    // TODO de validat ca field-urile de tip input sa fie completate + un comportament specific (sa se afiseze ceva, sa se coloreze cu rosu etc.)\n    const acceptedRequestList = document.getElementById('second-phase-accepted');\n    const requestList = document.getElementById('requests-list');\n    const finalRequestList = document.getElementById('final-requests-list');\n\n    \n    requestList.innerHTML = \"\";\n    finalRequestList.innerHTML = \"\";\n    acceptedRequestList.innerHTML = \"\";\n\n    getTeacherRequests('finalizata').then((result) => {\n      acceptedRequestList.innerHTML = \"\";\n      result.forEach((reqest) => {\n        const liElement = document.createElement('li');\n        liElement.id = reqest.id;\n\n        const spanName = document.createElement('span');\n        spanName.innerHTML = reqest.student_name;\n        spanName.classList.add('student-list-span');\n      \n        liElement.appendChild(spanName);\n\n        const spanTitle = document.createElement('span');\n        spanTitle.innerHTML = reqest.title;\n        spanTitle.classList.add('student-list-span');\n      \n        liElement.appendChild(spanTitle);\n\n        let sessionDiv = document.getElementById('session-accepted' + reqest.session_id);\n        if (!sessionDiv) {\n          sessionDiv = document.createElement('div');\n          sessionDiv.id = 'session-accepted' + reqest.session_id;\n          sessionDiv.innerHTML += 'session-' + reqest.session_id;\n\n          acceptedRequestList.appendChild(sessionDiv);\n        }\n        \n        sessionDiv.appendChild(liElement);\n      });\n    }).catch((error) => {\n      console.error('Error fetching data:', error);\n    });\n\n    if (user.student_number === 0) {\n      const p1Element = document.createElement('p');\n      p1Element.innerHTML = \"Numărul maxim de locuri a fost atins.\";\n\n      const p2Element = document.createElement('p');\n      p2Element.innerHTML = \"Numărul maxim de locuri a fost atins.\";\n\n      requestList.appendChild(p1Element);\n      finalRequestList.appendChild(p2Element);\n\n      return;\n    }\n\n    getTeacherRequests('in asteptare').then((result) => {\n      console.log('Data fetched successfully:', result);\n      let students = result;\n\n      console.log(students);\n      requestList.innerHTML = \"\";\n      students.forEach((student) => {\n        const liElement = document.createElement('li');\n        liElement.id = student.id;\n\n        const spanName = document.createElement('span');\n        spanName.innerHTML = student.student_name;\n        spanName.classList.add('student-list-span');\n      \n        liElement.appendChild(spanName);\n\n        const spanTitle = document.createElement('span');\n        spanTitle.innerHTML = student.title;\n        spanTitle.classList.add('student-list-span');\n      \n        liElement.appendChild(spanTitle);\n\n        const acceptRequestBtn = document.createElement(\"button\");\n        acceptRequestBtn.innerHTML = 'Acceptă';\n        acceptRequestBtn.value = 'acceptata';\n        acceptRequestBtn.dataset.requestId = student.id;\n        acceptRequestBtn.classList.add('button-30');\n        const declineRequestBtn = document.createElement(\"button\");\n        declineRequestBtn.innerHTML = 'Respinge';\n        declineRequestBtn.value = 'respinsa';\n        declineRequestBtn.dataset.requestId = student.id;\n        declineRequestBtn.classList.add('button-30');\n        liElement.appendChild(acceptRequestBtn);\n        liElement.appendChild(declineRequestBtn);\n\n        acceptRequestBtn.addEventListener('click', acceptOrDeclineRequest);\n        declineRequestBtn.addEventListener('click', acceptOrDeclineRequest);\n\n        let sessionDiv = document.getElementById('session-' + student.session_id);\n        if (!sessionDiv) {\n          sessionDiv = document.createElement('div');\n          sessionDiv.id = 'session-' + student.session_id;\n          sessionDiv.innerHTML += 'session-' + student.session_id;\n\n          requestList.appendChild(sessionDiv);\n        }\n        \n        sessionDiv.appendChild(liElement);\n\n        \n      });\n    }).catch((error) => {\n      console.error('Error fetching data:', error);\n    });\n\n    getTeacherRequests('fisier incarcat').then((result) => {\n      console.log('Data fetched successfully:', result);\n      finalRequestList.innerHTML = \"\";\n      result.forEach((finalRequest) => {\n        const liElement = document.createElement('li');\n        liElement.id = finalRequest.id;\n\n        const spanName = document.createElement('span');\n        spanName.innerHTML = finalRequest.student_name;\n        spanName.classList.add('student-list-span');\n      \n        liElement.appendChild(spanName);\n\n        const spanTitle = document.createElement('span');\n        spanTitle.innerHTML = finalRequest.title;\n        spanTitle.classList.add('student-list-span');\n      \n        liElement.appendChild(spanTitle);\n\n        const inputFile = document.createElement(\"input\");\n        inputFile.type = 'file';\n        liElement.appendChild(inputFile);\n\n        const uploadFileBtn = document.createElement(\"button\");\n        uploadFileBtn.innerHTML = \"Încarcă fișier\";\n        uploadFileBtn.classList.add('upload-file');\n        uploadFileBtn.classList.add('button-30');\n        liElement.appendChild(uploadFileBtn);\n\n        const rejectBtn = document.createElement(\"button\");\n        rejectBtn.innerHTML = \"Respinge\";\n        rejectBtn.classList.add('upload-file');\n        rejectBtn.classList.add('button-30');\n        liElement.appendChild(rejectBtn);\n\n        uploadFileBtn.addEventListener('click', () => {\n          if (inputFile.files.length > 0) {\n            // Access the selected file\n            const selectedFile = inputFile.files[0];\n    \n            // Log or use the selected file\n            console.log('Selected File:', selectedFile);\n            handleUpload(selectedFile);\n            updateRequest('finalizata',finalRequest.id);\n            updateTeacher();\n            liElement.style.display = 'none';\n          } else {\n            console.warn('No file selected.');\n            toast.warning('Niciun fisier selectat');\n          }\n        });\n\n        rejectBtn.addEventListener('click', () => {\n          openRejectPopup();\n          \n          document.getElementById('final-reject-btn').addEventListener('click', () => {\n            const rejectMessage = document.getElementById('reject-message').value;\n            updateRequest('respinsa',finalRequest.id, rejectMessage);\n            liElement.style.display = 'none';\n            closePopup();\n          })\n        });\n\n        let sessionDiv = document.getElementById('session-final' + finalRequest.session_id);\n        if (!sessionDiv) {\n          sessionDiv = document.createElement('div');\n          sessionDiv.id = 'session-final' + finalRequest.session_id;\n          sessionDiv.innerHTML += 'session-' + finalRequest.session_id;\n\n          finalRequestList.appendChild(sessionDiv);\n        }\n        \n        sessionDiv.appendChild(liElement);\n\n        \n      });\n    }).catch((error) => {\n      console.error('Error fetching data:', error);\n    });\n  }, []);\n\n  function openPopup() {\n    document.getElementById('overlay').style.display = 'flex';\n    document.querySelector('#close-btn').addEventListener('click', closePopup);\n  }\n\n  function saveSession() {\n    addSession();\n    // document.getElementById('overlay-success').style.display = 'flex';\n    // document.querySelector('#close-success-popup-btn').addEventListener('click', closePopup);\n  }\n\n  function acceptOrDeclineRequest(e) {\n    const status = e.target.value;\n    const requestId = e.target.dataset.requestId;\n\n    updateRequest(status, requestId);\n    document.getElementById(requestId).style.display = 'none';\n  }\n\n  function closePopup() {\n    document.getElementById('overlay').style.display = 'none';\n    document.getElementById('overlay-success').style.display = 'none';\n    document.getElementById('overlay-reject').style.display = 'none';\n  }\n\n  const getTeacherRequests = async (status) => {\n    try {\n      const response = await fetch('http://localhost:5002/api/filterRequests?teacherId=' + user.id + '&status=' + status, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json', \n          } \n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      return result;\n      \n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } \n  };\n\n  const addSession = async () => {\n    try {\n    if(!startDate || !endDate || startDate > endDate)\n    {\n      toast.error('Date incorecte');\n      return;\n    }\n    \n      const postData = {\n        teacher_id: user.id,\n        start_date: startDate,\n        end_date: endDate,\n      };\n      console.log(postData);\n      const response = await fetch('http://localhost:5002/api/NewSession', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json', \n          },\n          body: JSON.stringify(postData) \n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      console.log(result);\n      toast.success('Sesiune salvata');\n      return result;\n      \n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } \n  };\n\n  const updateRequest = async (status, requestId, rejectMessage = '') => {\n    try {\n      const postData = {\n        status : status,\n        reject_message : rejectMessage\n      };\n      console.log(postData);\n      const response = await fetch('http://localhost:5002/api/dissertation_requests/' + requestId, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json', \n          },\n          body: JSON.stringify(postData) \n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      console.log(result);\n      return result;\n      \n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } \n  };\n\n  const handleUpload = async (selectedFile) => {\n    if (selectedFile) {\n      try {\n        const formData = new FormData();\n        formData.append('file', selectedFile);\n\n        const response = await fetch('http://localhost:5002/api/upload', {\n          method: 'POST',\n          body: formData,\n        });\n\n        if (response.ok) {\n          console.log('File uploaded successfully!');\n          toast.success('Fiser incarcat');\n        } else {\n          console.error('Failed to upload file.');\n        }\n      } catch (error) {\n        console.error('Error uploading file:', error);\n      }\n    } else {\n      console.warn('No file selected for upload.');\n    }\n  };\n\n  const updateTeacher = async () => {\n    try {\n      const postData = {\n        student_number : user.student_number - 1\n      };\n      const response = await fetch('http://localhost:5002/api/users/' + user.id, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json', \n          },\n          body: JSON.stringify(postData) \n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      console.log(result);\n      return result;\n      \n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } \n  };\n\n  function openRejectPopup() {\n    document.getElementById('overlay-reject').style.display = 'flex';\n    document.querySelector('#close-reject-popup-btn').addEventListener('click', closePopup);\n  }\n\n  if (!user) {\n    return <div>User not authenticated</div>;\n  }\n\n    return (\n      <div>\n        <div className='content-div'>\n          <button id='add-session-btn' className='button-30' style={{display:'block'}} onClick={openPopup}>Adaugă sesiune</button>\n          <h1 className='lista-prof'>Lista de cereri</h1>\n          <ul id='requests-list'>\n\n          </ul>\n\n          <div className=\"overlay\" id=\"overlay\">\n            <div className=\"popup\">\n              <span className=\"close-btn\" id='close-btn'>X</span>\n              <h2>Sesiune nouă</h2>\n              <p>Introduceți data de început și cea de final.</p>\n              <div>\n                <div>Dată început: </div>\n                <input \n                type=\"datetime-local\" \n                id=\"start-date\"\n                value={startDate}\n                onChange={(e) => setStartDate(e.target.value)} />\n              </div>\n              <div>\n                <div>Dată sfârșit: </div>\n                <input \n                type=\"datetime-local\" \n                id='end-date'\n                value={endDate}\n                onChange={(e) => setEndDate(e.target.value)} />\n              </div>\n              <button className='button-30' id='add-session-btn' onClick={saveSession}>Salvează</button>\n            </div>\n          </div>\n\n          <div className=\"overlay\" id=\"overlay-success\">\n            <div className=\"popup\">\n              <span className=\"close-btn\" id='close-success-popup-btn'>X</span>\n              <h2>Sesiunea a fost salvată cu succes</h2>\n            </div>\n          </div>\n        </div>\n\n        <div className='content-div'>\n          <h1>Cereri acceptate</h1>\n          <ul id='final-requests-list'>\n\n          </ul>\n        </div>\n\n        <div className='content-div'>\n          <h1>Cereri finalizate</h1>\n          <ul id='second-phase-accepted'>\n\n          </ul>\n        </div>\n\n        <div className=\"overlay\" id=\"overlay-reject\">\n          <div className=\"popup\">\n            <span className=\"close-btn\" id='close-reject-popup-btn'>X</span>\n            <h2>Introduceți motivul respingerii</h2>\n            <input \n            type='text'\n            required\n            id='reject-message'\n            ></input>\n            <div><button className='button-30' id='final-reject-btn'>Respinge</button></div>\n          </div>\n        </div>\n        <ToastContainer/>\n      </div>\n    );\n  }\n  \n  export default TeacherPage;\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}